<#macro myLayout title="Layout example">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>${title}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/assets/webjars/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link rel="stylesheet" href="/assets/webjars/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/assets/css/general.css">
      <link rel="stylesheet" href="/assets/css/login.css">

    <!-- Latest compiled and minified JavaScript -->

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
<body>
<img src="/assets/img/general/log-in-background.jpeg?v=1" id="bg" alt="">
    <div id="overlay" class="overlay-no-img">

        <div class="content">
                <#nested/>
            <script type="text/javascript">

                // Fade out success alerts if visible

                if ($(".alert-success").length) {
                    $('.alert-success').delay(5000).fadeOut('slow');
                }

                // Check for empty fields

                // Keep track of any current form submission in progress in order to prevent
                // double-submission of the form. This is critical because the form contains
                // a one-time-use token that will cause the subsequent submit to fail.
                var isSubmitting = false;

                $("form").submit(function( event ) {

                    // Enforce a single form transmission.
                    if ( isSubmitting ) {

                        event.preventDefault();
                        return;

                    }

                    var inputs = $(this).find('.validate-empty');
                    var areFieldsValid = true;

                    inputs.each(function (el) {

                        if ($(this).val().length === 0) {
                            $(".alert-" + $(this).attr('id')).show();
                            $(this).addClass("error");
                            areFieldsValid = false;
                        }
                    });

                    // If all the fields are valid, flag the form as being submitted;
                    // otherwise, cancel the submission altogether (so the user can see
                    // which fields need to be updated).
                    if ( areFieldsValid ) {

                        isSubmitting = true;

                    } else {

                        event.preventDefault()

                    }

                });

                $("input.cleanup").blur(function() {
                    var value = $.trim( $(this).val() );
                    $(this).val( value );
                });

                // Hide errors on focus

                $(".validate-empty").focus(function () {
                    $(".alert-" + $(this).attr('id')).hide();
                    $(".alert-dynamic").hide();
                    $(this).removeClass("error");
                });

                $(".getStarted a").on("click", function(ev) {
                    ev.preventDefault();

                    if (window.analytics) window.analytics.track("Account.SignUpStarted");

                    window.location.href = $(this).attr("href");
                });


            </script>
        </div>
        <script src="http://cdn.optimizely.com/js/7610134.js"></script>
    </div> <!-- /container -->
<!-- Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">
                <form id="form_register" method="post" action="/register">
                    <div class="panel-body">
                        <h4>Sign up</h4>
                        <p>Welcom to techies community!</p>
                        <div class="form-group js_username">
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon1">http://techies.com/</span>
                                <input type="text" class="form-control" placeholder="User name" name="username" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="form-group js_fullname">
                            <input type="text" placeholder="Full name" class="form-control" name="fullname">
                        </div>
                        <div class="form-group js_email">
                            <input type="email" placeholder="E-Mail" class="form-control" name="email">
                        </div>
                        <div class="form-group js_password1">
                            <input type="password" placeholder="Password" class="form-control" name="secret">
                        </div>
                        <div class="form-group js_password2">
                            <input type="password" placeholder="Confirm password" class="form-control">
                        </div>
                        <div class="checkbox js_checkbox">
                            <label>
                                <input type="checkbox"> I accept the term and conditions
                            </label>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <input type="submit" class="btn btn-primary btn-block js_submit" disabled="true" data-dismiss="modal" value="Register">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
    <script type="text/javascript" src="/assets/webjars/jquery/2.1.3/jquery.js"></script>
    <script type="text/javascript" src="/assets/webjars/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
</#macro>